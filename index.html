<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
    <style>
        /* Add your styles here */
    </style>
</head>
<body>
    <div id="chat-window">
        <div id="chat-messages"></div>
        <input type="text" id="message-input" placeholder="Type your message">
        <button onclick="sendMessage()">Send</button>
    </div>

    <script src="script.js"></script>
    <script>
      const socket = new WebSocket('ws://localhost:3000'); // Replace with your WebSocket server URL

// Listen for messages from the server
socket.addEventListener('message', (event) => {
    const message = JSON.parse(event.data);
    displayMessage(message);
});

// Function to send a message to the server
function sendMessage() {
    const inputElement = document.getElementById('message-input');
    const message = inputElement.value.trim();

    if (message !== '') {
        const messageObject = { text: message, timestamp: new Date().toLocaleTimeString() };
        socket.send(JSON.stringify(messageObject));
        displayMessage(messageObject);
        inputElement.value = '';
    }
}

// Function to display a message in the chat window
function displayMessage(message) {
    const messagesContainer = document.getElementById('chat-messages');
    const messageElement = document.createElement('div');
    messageElement.innerText = `[${message.timestamp}] ${message.text}`;
    messagesContainer.appendChild(messageElement);
}

    </script>
    <script>
      const express = require('express');
      const { createServer } = require('node:http');
      const app = express();
      const server = createServer(app);
      app.get('/', (req, res) =>{
        res.send('<h1>Hello World</h1>');
      });
      server.listen(3000, () => {
        console.log('server running at you ass http://localhost:3000')
      })
      </script>
</body>
</html>
